<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>WebBook Level 1</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
<style data-fill-with="stylesheet">/******************************************************************************
 *                   Style sheet for the W3C specifications                   *
 *
 * Special classes handled by this style sheet include:
 *
 * Indices
 *   - .toc for the Table of Contents (<ol class="toc">)
 *     + <span class="secno"> for the section numbers
 *   - #toc for the Table of Contents (<nav id="toc">)
 *   - ul.index for Indices (<a href="#ref">term</a><span>, in §N.M</span>)
 *   - table.index for Index Tables (e.g. for properties or elements)
 *
 * Structural Markup
 *   - table.data for general data tables
 *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !
 *     -> use <table class='complex data'> for extra-complex tables
 *     -> use <td class='long'> for paragraph-length cell content
 *     -> use <td class='pre'> when manual line breaks/indentation would help readability
 *   - dl.switch for switch statements
 *   - ol.algorithm for algorithms (helps to visualize nesting)
 *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)
 *     -> .sidefigure for right-floated figures
 *   - ins/del
 *
 * Code
 *   - pre and code
 *
 * Special Sections
 *   - .note       for informative notes             (div, p, span, aside, details)
 *   - .example    for informative examples          (div, p, pre, span)
 *   - .issue      for issues                        (div, p, span)
 *   - .assertion  for assertions                    (div, p, span)
 *   - .advisement for loud normative statements     (div, p, strong)
 *   - .annoying-warning for spec obsoletion notices (div, aside, details)
 *
 * Definition Boxes
 *   - pre.def   for WebIDL definitions
 *   - table.def for tables that define other entities (e.g. CSS properties)
 *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)
 *
 * Numbering
 *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)
 *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)
 *   - ::before styled for CSS-generated issue/example/figure numbers:
 *     -> Documents wishing to use this only need to add
 *        figcaption::before,
 *        .caption::before { content: "Figure "  counter(figure) " ";  }
 *        .example::before { content: "Example " counter(example) " "; }
 *        .issue::before   { content: "Issue "   counter(issue) " ";   }
 *
 * Header Stuff (ignore, just don't conflict with these classes)
 *   - .head for the header
 *   - .copyright for the copyright
 *
 * Miscellaneous
 *   - .overlarge for things that should be as wide as possible, even if
 *     that overflows the body text area. This can be used on an item or
 *     on its container, depending on the effect desired.
 *     Note that this styling basically doesn't help at all when printing,
 *     since A4 paper isn't much wider than the max-width here.
 *     It's better to design things to fit into a narrower measure if possible.
 *   - js-added ToC jump links (see fixup.js)
 *
 ******************************************************************************/

/******************************************************************************/
/*                                   Body                                     */
/******************************************************************************/

	body {
		counter-reset: example figure issue;

		/* Layout */
		max-width: 50em;               /* limit line length to 50em for readability   */
		margin: 0 auto;                /* center text within page                     */
		padding: 1.6em 1.5em 2em 50px; /* assume 16px font size for downlevel clients */
		padding: 1.6em 1.5em 2em calc(26px + 1.5em); /* leave space for status flag     */

		/* Typography */
		line-height: 1.5;
		font-family: sans-serif;
		widows: 2;
		orphans: 2;
		word-wrap: break-word;
		overflow-wrap: break-word;
		hyphens: auto;

		/* Colors */
		color: black;
		background: white top left fixed no-repeat;
		background-size: 25px auto;
	}


/******************************************************************************/
/*                         Front Matter & Navigation                          */
/******************************************************************************/

/** Header ********************************************************************/

	div.head { margin-bottom: 1em }
	div.head hr { border-style: solid; }

	div.head h1 {
		font-weight: bold;
		margin: 0 0 .1em;
		font-size: 220%;
	}

	div.head h2 { margin-bottom: 1.5em;}

/** W3C Logo ******************************************************************/

	.head .logo {
		float: right;
		margin: 0.4rem 0 0.2rem .4rem;
	}

	.head img[src*="logos/W3C"] {
		display: block;
		border: solid #1a5e9a;
		border-width: .65rem .7rem .6rem;
		border-radius: .4rem;
		background: #1a5e9a;
		color: white;
		font-weight: bold;
	}

	.head a:hover > img[src*="logos/W3C"],
	.head a:focus > img[src*="logos/W3C"] {
		opacity: .8;
	}

	.head a:active > img[src*="logos/W3C"] {
		background: #c00;
		border-color: #c00;
	}

	/* see also additional rules in Link Styling section */

/** Copyright *****************************************************************/

	p.copyright,
	p.copyright small { font-size: small }

/** Back to Top / ToC Toggle **************************************************/

	@media print {
		#toc-nav {
			display: none;
		}
	}
	@media not print {
		#toc-nav {
			position: fixed;
			z-index: 2;
			bottom: 0; left: 0;
			margin: 0;
			min-width: 1.33em;
			border-top-right-radius: 2rem;
			box-shadow: 0 0 2px;
			font-size: 1.5em;
			color: black;
		}
		#toc-nav > a {
			display: block;
			white-space: nowrap;

			height: 1.33em;
			padding: .1em 0.3em;
			margin: 0;

			background: white;
			box-shadow: 0 0 2px;
			border: none;
			border-top-right-radius: 1.33em;
			background: white;
		}
		#toc-nav > #toc-jump {
			padding-bottom: 2em;
			margin-bottom: -1.9em;
		}

		#toc-nav > a:hover,
		#toc-nav > a:focus {
			background: #f8f8f8;
		}
		#toc-nav > a:not(:hover):not(:focus) {
			color: #707070;
		}

		/* statusbar gets in the way on keyboard focus; remove once browsers fix */
		#toc-nav > a[href="#toc"]:not(:hover):focus:last-child {
			padding-bottom: 1.5rem;
		}

		#toc-nav:not(:hover) > a:not(:focus) > span + span {
			/* Ideally this uses :focus-within on #toc-nav */
			display: none;
		}
		#toc-nav > a > span + span {
			padding-right: 0.2em;
		}

		#toc-toggle-inline {
			vertical-align: 0.05em;
			font-size: 80%;
			color: gray;
			color: hsla(203,20%,40%,.7);
			border-style: none;
			background: transparent;
			position: relative;
		}
		#toc-toggle-inline:hover:not(:active),
		#toc-toggle-inline:focus:not(:active) {
			text-shadow: 1px 1px silver;
			top: -1px;
			left: -1px;
		}

		#toc-nav :active {
			color: #C00;
		}
	}

/** ToC Sidebar ***************************************************************/

	/* Floating sidebar */
	@media screen {
		body.toc-sidebar #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			max-width: 80%;
			max-width: calc(100% - 2em - 26px);
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			background: inherit;
			background-color: #f7f8f9;
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
		}
		body.toc-sidebar #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
		}
		body.toc-sidebar #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	/* Hide main scroller when only the ToC is visible anyway */
	@media screen and (max-width: 28em) {
		body.toc-sidebar {
			overflow: hidden;
		}
	}

	/* Sidebar with its own space */
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			background: inherit;
			background-color: #f7f8f9;
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
		}
		body:not(.toc-inline) #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
		}

		body:not(.toc-inline) {
			padding-left: 29em;
		}
		/* See also Overflow section at the bottom */

		body:not(.toc-inline) #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) {
			margin: 0 4em;
		}
	}

/******************************************************************************/
/*                                Sectioning                                  */
/******************************************************************************/

/** Headings ******************************************************************/

	h1, h2, h3, h4, h5, h6, dt {
		page-break-after: avoid;
		page-break-inside: avoid;
		font: 100% sans-serif;   /* Reset all font styling to clear out UA styles */
		font-family: inherit;    /* Inherit the font family. */
		line-height: 1.2;        /* Keep wrapped headings compact */
		hyphens: manual;         /* Hyphenated headings look weird */
	}

	h2, h3, h4, h5, h6 {
		margin-top: 3rem;
	}

	h1, h2, h3 {
		color: #005A9C;
		background: transparent;
	}

	h1 { font-size: 170%; }
	h2 { font-size: 140%; }
	h3 { font-size: 120%; }
	h4 { font-weight: bold; }
	h5 { font-style: italic; }
	h6 { font-variant: small-caps; }
	dt { font-weight: bold; }

/** Subheadings ***************************************************************/

	h1 + h2,
	#subtitle {
		/* #subtitle is a subtitle in an H2 under the H1 */
		margin-top: 0;
	}
	h2 + h3,
	h3 + h4,
	h4 + h5,
	h5 + h6 {
		margin-top: 1.2em; /* = 1 x line-height */
	}

/** Section divider ***********************************************************/

	:not(.head) > hr {
		font-size: 1.5em;
		text-align: center;
		margin: 1em auto;
		height: auto;
		border: transparent solid 0;
		background: transparent;
	}
	:not(.head) > hr::before {
		content: "\2727\2003\2003\2727\2003\2003\2727";
	}

/******************************************************************************/
/*                            Paragraphs and Lists                            */
/******************************************************************************/

	p {
		margin: 1em 0;
	}

	dd > p:first-child,
	li > p:first-child {
		margin-top: 0;
	}

	ul, ol {
		margin-left: 0;
		padding-left: 2em;
	}

	li {
		margin: 0.25em 0 0.5em;
		padding: 0;
	}

	dl dd {
		margin: 0 0 .5em 2em;
	}

	.head dd + dd { /* compact for header */
		margin-top: -.5em;
	}

	/* Style for algorithms */
	ol.algorithm ol:not(.algorithm),
	.algorithm > ol ol:not(.algorithm) {
	 border-left: 0.5em solid #DEF;
	}

	/* Put nice boxes around each algorithm. */
	[data-algorithm]:not(.heading) {
	  padding: .5em;
	  border: thin solid #ddd; border-radius: .5em;
	  margin: .5em calc(-0.5em - 1px);
	}
	[data-algorithm]:not(.heading) > :first-child {
	  margin-top: 0;
	}
	[data-algorithm]:not(.heading) > :last-child {
	  margin-bottom: 0;
	}

	/* Style for switch/case <dl>s */
	dl.switch > dd > ol.only,
	dl.switch > dd > .only > ol {
	 margin-left: 0;
	}
	dl.switch > dd > ol.algorithm,
	dl.switch > dd > .algorithm > ol {
	 margin-left: -2em;
	}
	dl.switch {
	 padding-left: 2em;
	}
	dl.switch > dt {
	 text-indent: -1.5em;
	 margin-top: 1em;
	}
	dl.switch > dt + dt {
	 margin-top: 0;
	}
	dl.switch > dt::before {
	 content: '\21AA';
	 padding: 0 0.5em 0 0;
	 display: inline-block;
	 width: 1em;
	 text-align: right;
	 line-height: 0.5em;
	}

/** Terminology Markup ********************************************************/


/******************************************************************************/
/*                                 Inline Markup                              */
/******************************************************************************/

/** Terminology Markup ********************************************************/
	dfn   { /* Defining instance */
		font-weight: bolder;
	}
	a > i { /* Instance of term */
		font-style: normal;
	}
	dt dfn code, code.idl {
		font-size: medium;
	}
	dfn var {
		font-style: normal;
	}

/** Change Marking ************************************************************/

	del { color: red;  text-decoration: line-through; }
	ins { color: #080; text-decoration: underline;    }

/** Miscellaneous improvements to inline formatting ***************************/

	sup {
		vertical-align: super;
		font-size: 80%
	}

/******************************************************************************/
/*                                    Code                                    */
/******************************************************************************/

/** General monospace/pre rules ***********************************************/

	pre, code, samp {
		font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;
		font-size: .9em;
		page-break-inside: avoid;
		hyphens: none;
		text-transform: none;
	}
	pre code,
	code code {
		font-size: 100%;
	}

	pre {
		margin-top: 1em;
		margin-bottom: 1em;
		overflow: auto;
	}

/** Inline Code fragments *****************************************************/

  /* Do something nice. */

/******************************************************************************/
/*                                    Links                                   */
/******************************************************************************/

/** General Hyperlinks ********************************************************/

	/* We hyperlink a lot, so make it less intrusive */
	a[href] {
		color: #034575;
		text-decoration: none;
		border-bottom: 1px solid #707070;
		/* Need a bit of extending for it to look okay */
		padding: 0 1px 0;
		margin: 0 -1px 0;
	}
	a:visited {
		border-bottom-color: #BBB;
	}

	/* Use distinguishing colors when user is interacting with the link */
	a[href]:focus,
	a[href]:hover {
		background: #f8f8f8;
		background: rgba(75%, 75%, 75%, .25);
		border-bottom-width: 3px;
		margin-bottom: -2px;
	}
	a[href]:active {
		color: #C00;
		border-color: #C00;
	}

	/* Backout above styling for W3C logo */
	.head .logo,
	.head .logo a {
		border: none;
		text-decoration: none;
		background: transparent;
	}

/******************************************************************************/
/*                                    Images                                  */
/******************************************************************************/

	img {
		border-style: none;
	}

	/* For autogen numbers, add
	   .caption::before, figcaption::before { content: "Figure " counter(figure) ". "; }
	*/

	figure, .figure, .sidefigure {
		page-break-inside: avoid;
		text-align: center;
		margin: 2.5em 0;
	}
	.figure img,    .sidefigure img,    figure img,
	.figure object, .sidefigure object, figure object {
		max-width: 100%;
		margin: auto;
	}
	.figure pre, .sidefigure pre, figure pre {
		text-align: left;
		display: table;
		margin: 1em auto;
	}
	.figure table, figure table {
		margin: auto;
	}
	@media screen and (min-width: 20em) {
		.sidefigure {
			float: right;
			width: 50%;
			margin: 0 0 0.5em 0.5em
		}
	}
	.caption, figcaption, caption {
		font-style: italic;
		font-size: 90%;
	}
	.caption::before, figcaption::before, figcaption > .marker {
		font-weight: bold;
	}
	.caption, figcaption {
		counter-increment: figure;
	}

	/* DL list is indented 2em, but figure inside it is not */
	dd > .figure, dd > figure { margin-left: -2em }

/******************************************************************************/
/*                             Colored Boxes                                  */
/******************************************************************************/

	.issue, .note, .example, .assertion, .advisement, blockquote {
		padding: .5em;
		border: .5em;
		border-left-style: solid;
		page-break-inside: avoid;
	}
	span.issue, span.note {
		padding: .1em .5em .15em;
		border-right-style: solid;
	}

	.issue,
	.note,
	.example,
	.advisement,
	.assertion,
	blockquote {
		margin: 1em auto;
	}
	.note  > p:first-child,
	.issue > p:first-child,
	blockquote > :first-child {
		margin-top: 0;
	}
	blockquote > :last-child {
		margin-bottom: 0;
	}

/** Blockquotes ***************************************************************/

	blockquote {
		border-color: silver;
	}

/** Open issue ****************************************************************/

	.issue {
		border-color: #E05252;
		background: #FBE9E9;
		counter-increment: issue;
		overflow: auto;
	}
	.issue::before, .issue > .marker {
		text-transform: uppercase;
		color: #AE1E1E;
		padding-right: 1em;
		text-transform: uppercase;
	}
	/* Add .issue::before { content: "Issue " counter(issue) " "; } for autogen numbers,
	   or use class="marker" to mark up the issue number in source. */

/** Example *******************************************************************/

	.example {
		border-color: #E0CB52;
		background: #FCFAEE;
		counter-increment: example;
		overflow: auto;
		clear: both;
	}
	.example::before, .example > .marker {
		text-transform: uppercase;
		color: #827017;
		min-width: 7.5em;
		display: block;
	}
	/* Add .example::before { content: "Example " counter(example) " "; } for autogen numbers,
	   or use class="marker" to mark up the example number in source. */

/** Non-normative Note ********************************************************/

	.note {
		border-color: #52E052;
		background: #E9FBE9;
		overflow: auto;
	}

	.note::before, .note > .marker,
	details.note > summary::before,
	details.note > summary > .marker {
		text-transform: uppercase;
		display: block;
		color: hsl(120, 70%, 30%);
	}
	/* Add .note::before { content: "Note"; } for autogen label,
	   or use class="marker" to mark up the label in source. */

	details.note > summary {
		display: block;
		color: hsl(120, 70%, 30%);
	}
	details.note[open] > summary {
		border-bottom: 1px silver solid;
	}

/** Assertion Box *************************************************************/
	/*  for assertions in algorithms */

	.assertion {
		border-color: #AAA;
		background: #EEE;
	}

/** Advisement Box ************************************************************/
	/*  for attention-grabbing normative statements */

	.advisement {
		border-color: orange;
		border-style: none solid;
		background: #FFEECC;
	}
	strong.advisement {
		display: block;
		text-align: center;
	}
	.advisement > .marker {
		color: #B35F00;
	}

/** Spec Obsoletion Notice ****************************************************/
	/* obnoxious obsoletion notice for older/abandoned specs. */

	details {
		display: block;
	}
	summary {
		font-weight: bolder;
	}

	.annoying-warning:not(details),
	details.annoying-warning:not([open]) > summary,
	details.annoying-warning[open] {
		background: #fdd;
		color: red;
		font-weight: bold;
		padding: .75em 1em;
		border: thick red;
		border-style: solid;
		border-radius: 1em;
	}
	.annoying-warning :last-child {
		margin-bottom: 0;
	}

@media not print {
	details.annoying-warning[open] {
		position: fixed;
		left: 1em;
		right: 1em;
		bottom: 1em;
		z-index: 1000;
	}
}

	details.annoying-warning:not([open]) > summary {
		text-align: center;
	}

/** Entity Definition Boxes ***************************************************/

	.def {
		padding: .5em 1em;
		background: #DEF;
		margin: 1.2em 0;
		border-left: 0.5em solid #8CCBF2;
	}

/******************************************************************************/
/*                                    Tables                                  */
/******************************************************************************/

	th, td {
		text-align: left;
		text-align: start;
	}

/** Property/Descriptor Definition Tables *************************************/

	table.def {
		/* inherits .def box styling, see above */
		width: 100%;
		border-spacing: 0;
	}

	table.def td,
	table.def th {
		padding: 0.5em;
		vertical-align: baseline;
		border-bottom: 1px solid #bbd7e9;
	}

	table.def > tbody > tr:last-child th,
	table.def > tbody > tr:last-child td {
		border-bottom: 0;
	}

	table.def th {
		font-style: italic;
		font-weight: normal;
		padding-left: 1em;
		width: 3em;
	}

	/* For when values are extra-complex and need formatting for readability */
	table td.pre {
		white-space: pre-wrap;
	}

	/* A footnote at the bottom of a def table */
	table.def           td.footnote {
		padding-top: 0.6em;
	}
	table.def           td.footnote::before {
		content: " ";
		display: block;
		height: 0.6em;
		width: 4em;
		border-top: thin solid;
	}

/** Data tables (and properly marked-up index tables) *************************/
	/*
		 <table class="data"> highlights structural relationships in a table
		 when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)

		 Use class="complex data" for particularly complicated tables --
		 (This will draw more lines: busier, but clearer.)

		 Use class="long" on table cells with paragraph-like contents
		 (This will adjust text alignment accordingly.)
		 Alternately use class="longlastcol" on tables, to have the last column assume "long".
	*/

	table {
		word-wrap: normal;
		overflow-wrap: normal;
		hyphens: manual;
	}

	table.data,
	table.index {
		margin: 1em auto;
		border-collapse: collapse;
		border: hidden;
		width: 100%;
	}
	table.data caption,
	table.index caption {
		max-width: 50em;
		margin: 0 auto 1em;
	}

	table.data td,  table.data th,
	table.index td, table.index th {
		padding: 0.5em 1em;
		border-width: 1px;
		border-color: silver;
		border-top-style: solid;
	}

	table.data thead td:empty {
		padding: 0;
		border: 0;
	}

	table.data  thead,
	table.index thead,
	table.data  tbody,
	table.index tbody {
		border-bottom: 2px solid;
	}

	table.data colgroup,
	table.index colgroup {
		border-left: 2px solid;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		border-right: 2px solid;
		border-top: 1px solid silver;
		padding-right: 1em;
	}

	table.data th[colspan],
	table.data td[colspan] {
		text-align: center;
	}

	table.complex.data th,
	table.complex.data td {
		border: 1px solid silver;
		text-align: center;
	}

	table.data.longlastcol td:last-child,
	table.data td.long {
	 vertical-align: baseline;
	 text-align: left;
	}

	table.data img {
		vertical-align: middle;
	}


/*
Alternate table alignment rules

	table.data,
	table.index {
		text-align: center;
	}

	table.data  thead th[scope="row"],
	table.index thead th[scope="row"] {
		text-align: right;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		text-align: right;
	}

Possible extra rowspan handling

	table.data  tbody th[rowspan]:not([rowspan='1']),
	table.index tbody th[rowspan]:not([rowspan='1']),
	table.data  tbody td[rowspan]:not([rowspan='1']),
	table.index tbody td[rowspan]:not([rowspan='1']) {
		border-left: 1px solid silver;
	}

	table.data  tbody th[rowspan]:first-child,
	table.index tbody th[rowspan]:first-child,
	table.data  tbody td[rowspan]:first-child,
	table.index tbody td[rowspan]:first-child{
		border-left: 0;
		border-right: 1px solid silver;
	}
*/

/******************************************************************************/
/*                                  Indices                                   */
/******************************************************************************/


/** Table of Contents *********************************************************/

	.toc a {
		/* More spacing; use padding to make it part of the click target. */
		padding-top: 0.1rem;
		/* Larger, more consistently-sized click target */
		display: block;
		/* Reverse color scheme */
		color: black;
		border-color: #3980B5;
		border-bottom-width: 3px !important;
		margin-bottom: 0px !important;
	}
	.toc a:visited {
		border-color: #054572;
	}
	.toc a:not(:focus):not(:hover) {
		/* Allow colors to cascade through from link styling */
		border-bottom-color: transparent;
	}

	.toc, .toc ol, .toc ul, .toc li {
		list-style: none; /* Numbers must be inlined into source */
		/* because generated content isn't search/selectable and markers can't do multilevel yet */
		margin:  0;
		padding: 0;
		line-height: 1.1rem; /* consistent spacing */
	}

	/* ToC not indented until third level, but font style & margins show hierarchy */
	.toc > li             { font-weight: bold;   }
	.toc > li li          { font-weight: normal; }
	.toc > li li li       { font-size:   95%;    }
	.toc > li li li li    { font-size:   90%;    }
	.toc > li li li li li { font-size:   85%;    }

	.toc > li             { margin: 1.5rem 0;    }
	.toc > li li          { margin: 0.3rem 0;    }
	.toc > li li li       { margin-left: 2rem;   }

	/* Section numbers in a column of their own */
	.toc .secno {
		float: left;
		width: 4rem;
		white-space: nowrap;
	}
	.toc > li li li li .secno {
		font-size: 85%;
	}
	.toc > li li li li li .secno {
		font-size: 100%;
	}

	:not(li) > .toc              { margin-left:  5rem; }
	.toc .secno                  { margin-left: -5rem; }
	.toc > li li li .secno       { margin-left: -7rem; }
	.toc > li li li li .secno    { margin-left: -9rem; }
	.toc > li li li li li .secno { margin-left: -11rem; }

	/* Tighten up indentation in narrow ToCs */
	@media (max-width: 30em) {
		:not(li) > .toc              { margin-left:  4rem; }
		.toc .secno                  { margin-left: -4rem; }
		.toc > li li li              { margin-left:  1rem; }
		.toc > li li li .secno       { margin-left: -5rem; }
		.toc > li li li li .secno    { margin-left: -6rem; }
		.toc > li li li li li .secno { margin-left: -7rem; }
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) :not(li) > .toc              { margin-left:  4rem; }
		body:not(.toc-inline) .toc .secno                  { margin-left: -4rem; }
		body:not(.toc-inline) .toc > li li li              { margin-left:  1rem; }
		body:not(.toc-inline) .toc > li li li .secno       { margin-left: -5rem; }
		body:not(.toc-inline) .toc > li li li li .secno    { margin-left: -6rem; }
		body:not(.toc-inline) .toc > li li li li li .secno { margin-left: -7rem; }
	}
	body.toc-sidebar #toc :not(li) > .toc              { margin-left:  4rem; }
	body.toc-sidebar #toc .toc .secno                  { margin-left: -4rem; }
	body.toc-sidebar #toc .toc > li li li              { margin-left:  1rem; }
	body.toc-sidebar #toc .toc > li li li .secno       { margin-left: -5rem; }
	body.toc-sidebar #toc .toc > li li li li .secno    { margin-left: -6rem; }
	body.toc-sidebar #toc .toc > li li li li li .secno { margin-left: -7rem; }

	.toc li {
		clear: both;
	}


/** Index *********************************************************************/

	/* Index Lists: Layout */
	ul.index       { margin-left: 0; columns: 15em; text-indent: 1em hanging; }
	ul.index li    { margin-left: 0; list-style: none; break-inside: avoid; }
	ul.index li li { margin-left: 1em }
	ul.index dl    { margin-top: 0; }
	ul.index dt    { margin: .2em 0 .2em 20px;}
	ul.index dd    { margin: .2em 0 .2em 40px;}
	/* Index Lists: Typography */
	ul.index ul,
	ul.index dl { font-size: smaller; }
	@media not print {
		ul.index li span {
			white-space: nowrap;
			color: transparent; }
		ul.index li a:hover + span,
		ul.index li a:focus + span {
			color: #707070;
		}
	}

/** Index Tables *****************************************************/
	/* See also the data table styling section, which this effectively subclasses */

	table.index {
		font-size: small;
		border-collapse: collapse;
		border-spacing: 0;
		text-align: left;
		margin: 1em 0;
	}

	table.index td,
	table.index th {
		padding: 0.4em;
	}

	table.index tr:hover td:not([rowspan]),
	table.index tr:hover th:not([rowspan]) {
		background: #f7f8f9;
	}

	/* The link in the first column in the property table (formerly a TD) */
	table.index th:first-child a {
		font-weight: bold;
	}

/******************************************************************************/
/*                                    Print                                   */
/******************************************************************************/

	@media print {
		/* Pages have their own margins. */
		html {
			margin: 0;
		}
		/* Serif for print. */
		body {
			font-family: serif;
		}
	}
	@page {
		margin: 1.5cm 1.1cm;
	}

/******************************************************************************/
/*                                    Legacy                                  */
/******************************************************************************/

	/* This rule is inherited from past style sheets. No idea what it's for. */
	.hide { display: none }



/******************************************************************************/
/*                             Overflow Control                               */
/******************************************************************************/

	.figure .caption, .sidefigure .caption, figcaption {
		/* in case figure is overlarge, limit caption to 50em */
		max-width: 50rem;
		margin-left: auto;
		margin-right: auto;
	}
	.overlarge > table {
		/* limit preferred width of table */
		max-width: 50em;
		margin-left: auto;
		margin-right: auto;
	}

	@media (min-width: 55em) {
		.overlarge {
			margin-left: calc(13px + 26.5rem - 50vw);
			margin-right: calc(13px + 26.5rem - 50vw);
			max-width: none;
		}
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) .overlarge {
			/* 30.5em body padding 50em content area */
			margin-left: calc(40em - 50vw) !important;
			margin-right: calc(40em - 50vw) !important;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) .overlarge {
			/* 4em html margin 30.5em body padding 50em content area */
			margin-left: 0 !important;
			margin-right: calc(84.5em - 100vw) !important;
		}
	}

	@media not print {
		.overlarge {
			overflow-x: auto;
			/* See Lea Verou's explanation background-attachment:
			 * http://lea.verou.me/2012/04/background-attachment-local/
			 *
			background: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,
			            top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,
			            top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            white;
			background-repeat: no-repeat;
			*/
		}
	}
</style>
  <meta content="Bikeshed version 2b79dbafbd71fe3f8f4e2b9171e40a0bd49a639c" name="generator">
  <link href="http://glazman.org/e0/webbook.html" rel="canonical">
  <meta content="04e1d68bd9b7cb3412d757a3720f00f024153919" name="document-revision">
<style>/* style-md-lists */

/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}</style>
<style>/* style-selflinks */

.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: gray;
    color: white;
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: black;
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }</style>
<style>/* style-counters */

body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}</style>
<style>/* style-autolinks */

.css.css, .property.property, .descriptor.descriptor {
    color: #005a9c;
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}</style>
<style>/* style-dfn-panel */

        .dfn-panel {
            position: absolute;
            z-index: 35;
            height: auto;
            width: -webkit-fit-content;
            width: fit-content;
            max-width: 300px;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: #DDDDDD;
            color: black;
            border: outset 0.2em;
        }
        .dfn-panel:not(.on) { display: none; }
        .dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
        .dfn-panel > b { display: block; }
        .dfn-panel a { color: black; }
        .dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
        .dfn-panel > b + b { margin-top: 0.25em; }
        .dfn-panel ul { padding: 0; }
        .dfn-panel li { list-style: inside; }
        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled { cursor: pointer; }
        </style>
<style>/* style-syntax-highlighting */

.highlight:not(.idl) { background: hsl(24, 20%, 95%); }
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }
.highlight .c { color: #708090 } /* Comment */
.highlight .k { color: #990055 } /* Keyword */
.highlight .l { color: #000000 } /* Literal */
.highlight .n { color: #0077aa } /* Name */
.highlight .o { color: #999999 } /* Operator */
.highlight .p { color: #999999 } /* Punctuation */
.highlight .cm { color: #708090 } /* Comment.Multiline */
.highlight .cp { color: #708090 } /* Comment.Preproc */
.highlight .c1 { color: #708090 } /* Comment.Single */
.highlight .cs { color: #708090 } /* Comment.Special */
.highlight .kc { color: #990055 } /* Keyword.Constant */
.highlight .kd { color: #990055 } /* Keyword.Declaration */
.highlight .kn { color: #990055 } /* Keyword.Namespace */
.highlight .kp { color: #990055 } /* Keyword.Pseudo */
.highlight .kr { color: #990055 } /* Keyword.Reserved */
.highlight .kt { color: #990055 } /* Keyword.Type */
.highlight .ld { color: #000000 } /* Literal.Date */
.highlight .m { color: #000000 } /* Literal.Number */
.highlight .s { color: #a67f59 } /* Literal.String */
.highlight .na { color: #0077aa } /* Name.Attribute */
.highlight .nc { color: #0077aa } /* Name.Class */
.highlight .no { color: #0077aa } /* Name.Constant */
.highlight .nd { color: #0077aa } /* Name.Decorator */
.highlight .ni { color: #0077aa } /* Name.Entity */
.highlight .ne { color: #0077aa } /* Name.Exception */
.highlight .nf { color: #0077aa } /* Name.Function */
.highlight .nl { color: #0077aa } /* Name.Label */
.highlight .nn { color: #0077aa } /* Name.Namespace */
.highlight .py { color: #0077aa } /* Name.Property */
.highlight .nt { color: #669900 } /* Name.Tag */
.highlight .nv { color: #222222 } /* Name.Variable */
.highlight .ow { color: #999999 } /* Operator.Word */
.highlight .mb { color: #000000 } /* Literal.Number.Bin */
.highlight .mf { color: #000000 } /* Literal.Number.Float */
.highlight .mh { color: #000000 } /* Literal.Number.Hex */
.highlight .mi { color: #000000 } /* Literal.Number.Integer */
.highlight .mo { color: #000000 } /* Literal.Number.Oct */
.highlight .sb { color: #a67f59 } /* Literal.String.Backtick */
.highlight .sc { color: #a67f59 } /* Literal.String.Char */
.highlight .sd { color: #a67f59 } /* Literal.String.Doc */
.highlight .s2 { color: #a67f59 } /* Literal.String.Double */
.highlight .se { color: #a67f59 } /* Literal.String.Escape */
.highlight .sh { color: #a67f59 } /* Literal.String.Heredoc */
.highlight .si { color: #a67f59 } /* Literal.String.Interpol */
.highlight .sx { color: #a67f59 } /* Literal.String.Other */
.highlight .sr { color: #a67f59 } /* Literal.String.Regex */
.highlight .s1 { color: #a67f59 } /* Literal.String.Single */
.highlight .ss { color: #a67f59 } /* Literal.String.Symbol */
.highlight .vc { color: #0077aa } /* Name.Variable.Class */
.highlight .vg { color: #0077aa } /* Name.Variable.Global */
.highlight .vi { color: #0077aa } /* Name.Variable.Instance */
.highlight .il { color: #000000 } /* Literal.Number.Integer.Long */
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"></p>
   <h1 class="p-name no-ref" id="title">WebBook Level 1</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">Unofficial Proposal Draft, <time class="dt-updated" datetime="2018-01-22">22 January 2018</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="http://glazman.org/e0/webbook.html">http://glazman.org/e0/webbook.html</a>
     <dt>Repository:
     <dd><a href="https://github.com/therealglazou/webbook">https://github.com/therealglazou/webbook</a>
     <dt>Warning:
     <dd>WORK IN PROGRESS
     <dt>Author:
     <dd>Daniel Glazman, Disruptive Innovations
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="http://creativecommons.org/publicdomain/zero/1.0/" rel="license"><img alt="CC0" src="https://licensebuttons.net/p/zero/1.0/80x15.png"></a> To the extent possible under law, the editors have waived all copyright
and related or neighboring rights to this work.
In addition, as of 22 January 2018,
the editors have made this specification available under the <a href="http://www.openwebfoundation.org/legal/the-owf-1-0-agreements/owfa-1-0" rel="license">Open Web Foundation Agreement Version 1.0</a>,
which is available at http://www.openwebfoundation.org/legal/the-owf-1-0-agreements/owfa-1-0.
Parts of this work may be from another specification document.  If so, those parts are instead covered by the license of that specification document. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>WebBook is a new format for electronic books, based on Web Standards only, and meant to make such books readable inside a browser.</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
     <ol class="toc">
      <li><a href="#reqs"><span class="secno">1.1</span> <span class="content">Requirements</span></a>
     </ol>
    <li>
     <a href="#instances"><span class="secno">2</span> <span class="content">WebBook instances</span></a>
     <ol class="toc">
      <li><a href="#navigation-document"><span class="secno">2.1</span> <span class="content">The navigation document</span></a>
      <li><a href="#content-document-title"><span class="secno">2.2</span> <span class="content">The title</span></a>
      <li><a href="#navigation-document-language"><span class="secno">2.3</span> <span class="content">The main language</span></a>
      <li><a href="#navigation-document-direction"><span class="secno">2.4</span> <span class="content">The progression direction</span></a>
      <li><a href="#navigation-document-identifier"><span class="secno">2.5</span> <span class="content">The identifier</span></a>
      <li><a href="#navigation-document-other-metadata"><span class="secno">2.6</span> <span class="content">Other metadata</span></a>
      <li><a href="#navigation-document-navdata"><span class="secno">2.7</span> <span class="content">Navigation data</span></a>
     </ol>
    <li><a href="#epub-compat"><span class="secno">3</span> <span class="content">Compatibility with EPUB 3.0.1</span></a>
    <li><a href="#known-implem"><span class="secno">4</span> <span class="content">Known implementations</span></a>
    <li><a href="#acks"><span class="secno">5</span> <span class="content">Acknowledgements</span></a>
    <li><a href="#conformance"><span class="secno"></span> <span class="content"> Conformance</span></a>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p><em>This section is informative.</em></p>
   <p>The world of electronic books (ebooks) is very fragmented, technically
speaking. The current electronic book formats, inheriting from
multiple sources, are not readable inside a browser without a
dedicated programmatic layer. Even if the ZIP package containing the
electronic book is unzipped, finding and rendering the individual
documents composing the book is not a task anyone can
perform. Furthermore, most of these existing formats rely a lot on
dedicated XML or even proprietary binary formats that raise many
technical issues.</p>
   <p>The current document proposes the Level 1 of a new electronic book
format, called WebBook, designed to free the electronic book market
from its current industrial silo to make it become a real first-class
client of the Web.</p>
   <h3 class="heading settled" data-level="1.1" id="reqs"><span class="secno">1.1. </span><span class="content">Requirements</span><a class="self-link" href="#reqs"></a></h3>
   <p><em>This section is informative.</em></p>
   <p>The following requirements are the basis for the technical choices in this specification:</p>
   <ol>
    <li data-md="">
     <p>one URL is enough to retrieve a remote WebBook instance, there is no need to download every resource composing that instance</p>
    <li data-md="">
     <p>the contents of a WebBook instance can be placed inside a Web site’s directory and are directly readable by a Web browser using the URL for that directory</p>
    <li data-md="">
     <p>the contents of a WebBook instance can be placed inside a local directory and are directly readable by a Web browser opening its <code>index.html</code> or <code>index.xhtml</code> topmost file</p>
    <li data-md="">
     <p>each individual resource in a WebBook instance, on a Web site or on a local disk, is directly readable by a Web browser</p>
    <li data-md="">
     <p>any html document can be used as content document inside a WebBook instance, without restriction</p>
    <li data-md="">
     <p>any stylesheet, replaced resource (images, audio, video, etc.) or additional resource useable by a html document (JavaScript, manifests, etc.) can be used inside the navigation document or the content documents of a WebBook instance, without restriction</p>
    <li data-md="">
     <p>the navigation document and the content documents inside a WebBook instance can be created and edited by any html editor</p>
    <li data-md="">
     <p>the metadata, table of contents contained in the navigation document of a WebBook instance can be created and edited by any html editor</p>
    <li data-md="">
     <p>the WebBook specification is backwards-compatible</p>
    <li data-md="">
     <p>the WebBook specification is forwards-compatible, at the potential cost of <em>graceful degradation</em> of some content</p>
    <li data-md="">
     <p>WebBook instances can be recognized without having to detect their MIME type</p>
    <li data-md="">
     <p>it’s possible to deliver electronic books in a form that is compatible with both this specification and <a data-link-type="biblio" href="#biblio-epub301">[EPUB301]</a></p>
   </ol>
   <h2 class="heading settled" data-level="2" id="instances"><span class="secno">2. </span><span class="content">WebBook instances</span><a class="self-link" href="#instances"></a></h2>
   <p>A WebBook instance is a <a data-link-type="biblio" href="#biblio-zip">[ZIP]</a> container. All files in a WebBook
instance MUST be stored as is (no compression) or using the Deflate
algorithm. All file and directory names must be encoded in UTF-8 <a data-link-type="biblio" href="#biblio-unicode">[UNICODE]</a>.  All File Names within the same directory must be unique
following case normalization as described in section 3.13 of <a data-link-type="biblio" href="#biblio-unicode">[UNICODE]</a>. All File Names within the same directory should be
unique following NFC or NFD normalization <a data-link-type="biblio" href="#biblio-uax15">[UAX15]</a>.</p>
   <p>The file name of a WebBook instance SHOULD use the <code>wbook</code> file extension, unless <a href="#epub-compat">compatibility</a> with <a data-link-type="biblio" href="#biblio-epub301">[EPUB301]</a> is added; in that case, the <code>epub</code> file
extension is recommended.  User Agents should always treat a zipped
package with file extension <code>wbook</code> or <code>epub</code> or
using the <a href="http://www.idpf.org/epub/301/spec/epub-ocf.html#app-media-type">EPUB
Media Type</a> <a data-link-type="biblio" href="#biblio-epub-ocf301">[EPUB-OCF301]</a> as a potential WebBook.</p>
   <p>A WebBook instance MUST contain a <a href="#navigation-document">navigation document</a>.</p>
   <p>A WebBook instance and each directory inside that WebBook instance can contain
any number of files and directories. All files inside a WebBook instance
SHOULD have a file extension to ensure all User Agents (including Web
browsers) can render the file if necessary even if no HTTP header is
present or if the User Agent cannot determine the type of the file
from its contents.</p>
   <p>Inside a WebBook Level 1 instance, all internal references (links,
references to replaced elements, etc.) SHOULD be strictly relative. With
respect to section 4.2 of <a data-link-type="biblio" href="#biblio-rfc3986">[RFC3986]</a>, only <code>path-noscheme</code> and <code>path-empty</code> are allowed for
IRIs' <code>relative-part</code>. References to resources external to
the WebBook instance are not restricted.</p>
   <div class="example" id="example-1ea0223a">
    <a class="self-link" href="#example-1ea0223a"></a> 
    <p>An example of Moby Dick packaged as a WebBook can be found <a href="http://glazman.org/e0/samples/">there.</a></p>
   </div>
   <h3 class="heading settled" data-level="2.1" id="navigation-document"><span class="secno">2.1. </span><span class="content">The navigation document</span><a class="self-link" href="#navigation-document"></a></h3>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="nav-doc">navigation document</dfn> MUST be a <a data-link-type="biblio" href="#biblio-html">[html]</a> document named <code>index.html</code> if its serialization is HTML and <code>index.xhtml</code> if its serialization is XML. The navigation
document MUST be placed inside the topmost directory inside the
containing WebBook instance.</p>
   <p>If both <code>index.html</code> and <code>index.xhtml</code> are present in the WebBook instance,
the User Agent must use <code>index.html</code> as the navigation document.</p>
   <p>The navigation document is a regular html document, intended to be
rendered by a Web browser, that contains the following information:</p>
   <ul>
    <li data-md="">
     <p>metadata:</p>
     <ul>
      <li data-md="">
       <p>a <a href="#content-document-title">title</a> (optional)</p>
      <li data-md="">
       <p>a <a href="#navigation-document-language">main language</a> (optional)</p>
      <li data-md="">
       <p>a <a href="#navigation-document-direction">progression direction</a> (optional)</p>
      <li data-md="">
       <p>a <a href="#navigation-document-identifier">unique identifier</a> (optional)</p>
      <li data-md="">
       <p><a href="#navigation-document-other-metadata">other metadata</a> (optional)</p>
     </ul>
    <li data-md="">
     <p><a href="#navigation-document-navdata">navigation data</a> (optional)</p>
    <li data-md="">
     <p>other html elements (optional)</p>
   </ul>
   <h3 class="heading settled" data-level="2.2" id="content-document-title"><span class="secno">2.2. </span><span class="content">The title</span><a class="self-link" href="#content-document-title"></a></h3>
   <p>The title of a WebBook instance represents the title of the electronic
book and is the title a User Agent SHOULD present to users. The title
of a WebBook instance is contained in the html <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#the-title-element-2" id="ref-for-the-title-element-2">the title element</a> element of the WebBook instance’s <a href="#navigation-document">navigation
document</a>.</p>
   <div class="example" id="example-ebee0104">
    <a class="self-link" href="#example-ebee0104"></a> 
<pre>&lt;html lang="en">
  &lt;head>
    &lt;title>Moby-Dick&lt;/title>
  &lt;/head>
  ....
&lt;/html>
</pre>
   </div>
    If the navigation document has no <code>title</code> element, the
title of the WebBook instance is the empty string. 
   <p>User agents should use the navigation document’s title when referring
to the containing WebBook in their user interface. When the contents
of a <code>title</code> element are used in this way, the <a href="https://html.spec.whatwg.org/multipage/dom.html#the-directionality">directionality</a> of that <code>title</code> element should be used to set the
directionality of the WebBook’s title in the user interface.</p>
   <h3 class="heading settled" data-level="2.3" id="navigation-document-language"><span class="secno">2.3. </span><span class="content">The main language</span><a class="self-link" href="#navigation-document-language"></a></h3>
   <p>If the <a href="https://html.spec.whatwg.org/multipage/semantics.html#the-html-element">root
element</a> of the <a href="#navigation-document">navigation document</a> of a
given WebBook specifies a <a href="https://html.spec.whatwg.org/multipage/dom.html#attr-lang">primary
language</a> for the navigation document, that language is also the
primary language of that WebBook.</p>
   <h3 class="heading settled" data-level="2.4" id="navigation-document-direction"><span class="secno">2.4. </span><span class="content">The progression direction</span><a class="self-link" href="#navigation-document-direction"></a></h3>
   <p>The <dfn class="dfn-paneled" data-dfn-for="WebBook" data-dfn-type="dfn" data-noexport="" id="webbook-principal-writing-mode">principal writing mode</dfn> of a WebBook is the same as
the <a data-link-type="dfn" href="#webbook-principal-writing-mode" id="ref-for-webbook-principal-writing-mode">principal writing mode</a> of its navigation document,
as specified in <a href="https://www.w3.org/TR/css-writing-modes-3/#principal-flow">CSS Writing Modes Level 3 §principal-flow</a>,
and the <dfn class="dfn-paneled" data-dfn-for="WebBook" data-dfn-type="dfn" data-noexport="" id="webbook-page-progression">page progression</dfn> direction of a WebBook is the same as
the <a data-link-type="dfn" href="#webbook-page-progression" id="ref-for-webbook-page-progression">page progression</a> direction of its navigation document,
as specified in <a href="https://www.w3.org/TR/css-writing-modes-3/#page-direction">CSS Writing Modes Level 3 §page-direction</a> and <a href="https://www.w3.org/TR/css3-page/#progression">CSS Paged Media Module Level 3 §progression</a>.</p>
   <p class="note" role="note"><span>Note:</span> The above implies that authors and authoring tools
need to set the <a href="https://html.spec.whatwg.org/multipage/dom.html#the-dir-attribute"><code>dir</code></a> attribute to <code>"rtl"</code> on the <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/semantics.html#the-html-element" id="ref-for-the-html-element">html</a></code> or <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/sections.html#the-body-element" id="ref-for-the-body-element">body</a></code> element of the navigation document
for WebBooks written in right-to-left languages and scripts to work properly.</p>
   <h3 class="heading settled" data-level="2.5" id="navigation-document-identifier"><span class="secno">2.5. </span><span class="content">The identifier</span><a class="self-link" href="#navigation-document-identifier"></a></h3>
   <p>A WebBook MAY contain a unique identifier (no other WebBook may have
the same identifier; multiple instances of the same WebBook can have
the same identifier), such as a UUID, DOI or ISBN.</p>
   <p>That identifier should be contained in a html element itself contained
in the <a href="#navigation-document">navigation document</a> and
expressed using <a data-link-type="biblio" href="#biblio-rdfa-primer">[RDFA-PRIMER]</a>, for example through the <code>property</code> and <code>vocab</code> attributes.</p>
   <div class="example" id="example-1997b79e">
    <a class="self-link" href="#example-1997b79e"></a> 
<pre>&lt;span property="http://purl.org/dc/elements/1.1/identifier">
  urn:uuid:A1B0D67E-2E81-4DF5-9E67-A64CBE366809
&lt;/span></pre>
   </div>
   <div class="example" id="example-7f414105">
    <a class="self-link" href="#example-7f414105"></a> 
<pre>&lt;span vocab="http://purl.org/dc/elements/1.1/" property="identifier">
  urn:uuid:A1B0D67E-2E81-4DF5-9E67-A64CBE366809
&lt;/span></pre>
   </div>
   <p>It’s also possible to use the <a href="https://www.w3.org/TR/rdfa-primer/#using-the-content-attribute"><code>content</code></a> attribute on a html <a href="https://html.spec.whatwg.org/multipage/semantics.html#the-meta-element"><code>meta</code></a> element but that approach makes the property not easily editable in a
Wysiwyg editor and is therefore strongly discouraged in the context of
a WebBook.</p>
   <h3 class="heading settled" data-level="2.6" id="navigation-document-other-metadata"><span class="secno">2.6. </span><span class="content">Other metadata</span><a class="self-link" href="#navigation-document-other-metadata"></a></h3>
   <p>The <a href="#navigation-document">navigation document</a> can contain any
number of extra metadata, expressed through <a data-link-type="biblio" href="#biblio-rdfa-primer">[RDFA-PRIMER]</a>, for
example through the <code>property</code> and <code>vocab</code> attributes.</p>
   <p>It’s also possible to use the <a href="https://www.w3.org/TR/rdfa-primer/#using-the-content-attribute"><code>content</code></a> attribute on a html <a href="https://html.spec.whatwg.org/multipage/semantics.html#the-meta-element"><code>meta</code></a> element but that approach makes the property not easily editable in a
Wysiwyg editor and is therefore strongly discouraged in the context of
a WebBook.</p>
   <div class="example" id="example-c9af94a6">
    <a class="self-link" href="#example-c9af94a6"></a> 
<pre>&lt;html lang="en">
  &lt;head>
    &lt;title>Moby-Dick&lt;/title>
  &lt;/head>
  &lt;body>
    ...
      &lt;span property="http://purl.org/dc/elements/1.1/identifier">
        urn:isbn:9780316000000
      &lt;/span>
      ...
      &lt;span property="http://purl.org/dc/terms/modified">
        2012-01-13T01:13:00Z
      &lt;/span>
      ...
      &lt;span property="http://purl.org/dc/terms/creator">
        Herman Melville
      &lt;/span>
      ....
      &lt;span property="http://purl.org/dc/terms/contributor">
        Dave Cramer
      &lt;/span>
    ...
  &lt;/body>
&lt;/html>
</pre>
   </div>
   <h3 class="heading settled" data-level="2.7" id="navigation-document-navdata"><span class="secno">2.7. </span><span class="content">Navigation data</span><a class="self-link" href="#navigation-document-navdata"></a></h3>
   <p>A WebBook instance MAY contain no more than one collection of navigation data serving two purposes:</p>
   <ol>
    <li data-md="">
     <p>it specifies the Reading Order of the resources composing the WebBook</p>
    <li data-md="">
     <p>it specifies the Table of Contents of the WebBook</p>
   </ol>
   <p>If present, <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="navigation-data">navigation data</dfn> are a <a href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-nav-element"><code>nav</code></a> html element carrying the <a href="https://www.w3.org/TR/dpub-aria-1.0/#doc-toc"><code>doc-toc</code></a> role <a data-link-type="biblio" href="#biblio-dpub-aria-10">[DPUB-ARIA-1.0]</a> role and contained in the <code>body</code> element of the <a href="#navigation-document">navigation document</a>.</p>
   <p>The collection of all hyperlinks (<code>a</code> elements) inside
navigation data, in document tree traversal order, specifies the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="reading-order">Reading Order</dfn> of all the resources composing the WebBook.</p>
   <p>The collection of all hyperlinks (<code>a</code> elements) inside
navigation data having no <a href="https://dom.spec.whatwg.org/#concept-tree-inclusive-ancestor">inclusive
ancestor</a> <a data-link-type="biblio" href="#biblio-dom">[DOM]</a> holding a html <a href="https://html.spec.whatwg.org/multipage/interaction.html#the-hidden-attribute">hidden</a> attribute, in document tree traversal order, specifies the <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="Table of Contents" data-noexport="" id="table-of-contents">Table of
Contents</dfn> of the WebBook.</p>
   <p>If the <a data-link-type="dfn" href="#nav-doc" id="ref-for-nav-doc">navigation document</a> does not have <a data-link-type="dfn" href="#navigation-data" id="ref-for-navigation-data">navigation data</a> or if it does have <a data-link-type="dfn" href="#navigation-data" id="ref-for-navigation-data①">navigation data</a> that contains no hyperlink
(and therefore would define an empty <a data-link-type="dfn" href="#reading-order" id="ref-for-reading-order">Reading order</a> and <a data-link-type="dfn" href="#table-of-contents" id="ref-for-table-of-contents">Table of Contents</a>)
then the <a data-link-type="dfn" href="#reading-order" id="ref-for-reading-order①">Reading Order</a> and <a data-link-type="dfn" href="#table-of-contents" id="ref-for-table-of-contents①">Table of Contents</a> are defined to contain the <a data-link-type="dfn" href="#nav-doc" id="ref-for-nav-doc①">navigation document</a>.</p>
   <div class="note" role="note">
     Except in documents with no <a data-link-type="dfn" href="#navigation-data" id="ref-for-navigation-data②">navigation data</a> or an empty one,
the <a data-link-type="dfn" href="#nav-doc" id="ref-for-nav-doc②">navigation document</a> is not included in the reading order by default,
and WebBook-capable User Agents would skip it when displaying the book
from the start. 
    <p>It is is possible to include the <a data-link-type="dfn" href="#nav-doc" id="ref-for-nav-doc③">navigation document</a> into the <a data-link-type="dfn" href="#reading-order" id="ref-for-reading-order②">Reading Order</a> by having a link (possibly hidden) to it from the <a data-link-type="dfn" href="#navigation-data" id="ref-for-navigation-data③">navigation data</a>.</p>
    <div class="example" id="example-ff8aacf7">
     <a class="self-link" href="#example-ff8aacf7"></a> This contrived but fully functional and valid example
shows a minimalist WebBook
whose navigation document also serves as the
first document in the reading order. 
     <p><code>index.html</code>:</p>
<pre><code class="highlight"><span class="cp">&lt;!doctype html></span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">en</span><span class="p">></span>
<span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">utf-8</span><span class="p">></span> <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">viewport</span> <span class="na">content</span><span class="o">=</span><span class="s">"width=device-width"</span><span class="p">></span>
<span class="p">&lt;</span><span class="nt">title</span><span class="p">></span>A Good Joke<span class="p">&lt;/</span><span class="nt">title</span><span class="p">></span>
<span class="p">&lt;</span><span class="nt">nav</span> <span class="na">role</span><span class="o">=</span><span class="s">doc-toc</span><span class="p">></span>
<span class="p">&lt;</span><span class="nt">h1</span><span class="p">>&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">#</span><span class="p">></span>A Good  Joke<span class="p">&lt;/</span><span class="nt">a</span><span class="p">>&lt;/</span><span class="nt">h1</span><span class="p">></span>
  <span class="p">&lt;</span><span class="nt">p</span><span class="p">></span>Why did the chicken cross the road?
  <span class="p">&lt;</span><span class="nt">p</span><span class="p">>&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"punchline.html"</span><span class="p">></span>Punchline<span class="p">&lt;/</span><span class="nt">a</span><span class="p">></span>
<span class="p">&lt;/</span><span class="nt">nav</span><span class="p">></span>
</code></pre>
     <p><code>punchline.html</code>:</p>
<pre><code class="highlight"><span class="cp">&lt;!doctype html></span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">en</span><span class="p">></span>
<span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">utf-8</span><span class="p">></span> <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">viewport</span> <span class="na">content</span><span class="o">=</span><span class="s">"width=device-width"</span><span class="p">></span>
<span class="p">&lt;</span><span class="nt">title</span><span class="p">></span>A Good Joke’s Punchline<span class="p">&lt;/</span><span class="nt">title</span><span class="p">></span>
<span class="p">&lt;</span><span class="nt">p</span><span class="p">></span>To get to the other side.
</code></pre>
    </div>
   </div>
   <p>User Agents can use the Reading Order to render all its resources, for
example, in one single paginated flow. User Agents can use the Table
of Contents for example to provide the user with an ordered collection
of resources he/she can directly navigate to on demand.</p>
   <div class="example" id="example-58f09892">
    <a class="self-link" href="#example-58f09892"></a> 
<pre>&lt;html lang="en">
  &lt;head>
    &lt;title>Moby-Dick&lt;/title>
  &lt;/head>
  &lt;body>
    &lt;nav role="doc-toc">
      &lt;ul>
        &lt;li>&lt;a href="html/cover.html" hidden>Cover&lt;/a>&lt;/li>
        &lt;li>&lt;a href="html/titlepage.html">Moby-Dick&lt;/a>&lt;/li>
        &lt;li>&lt;a href="html/epigraph.html" hidden>EXTRACTS (Supplied by a Sub-Sub-Librarian)&lt;/a>.&lt;/li>
        &lt;li>&lt;a href="html/chapter_001.html>Chapter 1. Loomings.&lt;/a>&lt;/li>
        ...
      &lt;/ul>
    &lt;/nav>
  &lt;/body>
&lt;/html>
</pre>
   </div>
   <h2 class="heading settled" data-level="3" id="epub-compat"><span class="secno">3. </span><span class="content">Compatibility with EPUB 3.0.1</span><a class="self-link" href="#epub-compat"></a></h2>
   <p><em>This section is informative.</em></p>
   <p>It is easily possible to turn a valid <a data-link-type="biblio" href="#biblio-epub301">[EPUB301]</a> package
into a WebBook, retaining full compatibility with <a data-link-type="biblio" href="#biblio-epub301">[EPUB301]</a>, using
the following instructions:</p>
   <ol>
    <li data-md="">
     <p>modify the EPUB package so its <a href="http://www.idpf.org/epub/301/spec/epub-contentdocs.html#sec-xhtml-nav">Navigation Document</a> <a data-link-type="biblio" href="#biblio-epub-contentdocs301">[EPUB-CONTENTDOCS301]</a> is now:</p>
     <ol>
      <li data-md="">
       <p>named <code>index.xhtml</code></p>
      <li data-md="">
       <p>placed inside the topmost directory of the package</p>
     </ol>
    <li data-md="">
     <p>update all links and references to extra resources inside the Navigation Document to reflect the new name and location of the file inside the package (if needed)</p>
    <li data-md="">
     <p>add the <code>role</code> attribute with value <code>doc-toc</code> to the <a href="http://www.idpf.org/epub/301/spec/epub-contentdocs.html#sec-xhtml-nav-def-types-toc"><code>toc nav</code></a> element of the Navigation Document</p>
    <li data-md="">
     <p>update the <a href="http://www.idpf.org/epub/301/spec/epub-publications.html#sec-item-elem">reference to the Navigation Document in the manifest of the Package Document</a> <a data-link-type="biblio" href="#biblio-epub-publications301">[EPUB-PUBLICATIONS301]</a> of the package to reflect the new name and location of the file inside the package (if needed)</p>
    <li data-md="">
     <p>update references to the Navigation Document inside other <a href="http://www.idpf.org/epub/301/spec/epub-contentdocs.html#sec-contentdocs">Content Documents</a> <a data-link-type="biblio" href="#biblio-epub-contentdocs301">[EPUB-CONTENTDOCS301]</a> of the package to reflect the new name and location of the file inside the package (if needed)</p>
   </ol>
   <div class="example" id="example-e9408472">
    <a class="self-link" href="#example-e9408472"></a> 
    <p>An example of Moby Dick packaged in conformance to both
this specification and EPUB 3.0.1 can be found <a href="http://glazman.org/e0/samples/">there</a>.</p>
   </div>
   <h2 class="heading settled" data-level="4" id="known-implem"><span class="secno">4. </span><span class="content">Known implementations</span><a class="self-link" href="#known-implem"></a></h2>
   <p><em>This section is informative.</em></p>
   <ul>
    <li data-md="">
     <p><a href="https://github.com/therealglazou/epub3towebbook/">epub3towebbook</a>, a Node.js script to convert a EPUB3 package into a EPUB3-compatible WebBook</p>
    <li data-md="">
     <p>the next public version of <a href="http://bluegriffon.org">BlueGriffon</a> will create EPUB3-compatible WebBooks</p>
   </ul>
   <h2 class="heading settled" data-level="5" id="acks"><span class="secno">5. </span><span class="content">Acknowledgements</span><a class="self-link" href="#acks"></a></h2>
   <p>The author would like to thank the following individuals for their
invaluable contributions to this document throughout the numerous
discussions he had with them: Dave Cramer, Florian Rivoal.</p>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-ref no-num heading settled" id="conformance"><span class="content"> Conformance</span><a class="self-link" href="#conformance"></a></h2>
   <p> Conformance requirements are expressed with a combination of descriptive assertions and RFC 2119 terminology.
            The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
            in the normative parts of this document
            are to be interpreted as described in RFC 2119.
            However, for readability,
            these words do not appear in all uppercase letters in this specification. </p>
   <p> All of the text of this specification is normative
            except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a> </p>
   <p> Examples in this specification are introduced with the words “for example”
            or are set apart from the normative text with <code>class="example"</code>, like this: </p>
   <div class="example" id="example-example"><a class="self-link" href="#example-example"></a> This is an example of an informative example. </div>
   <p> Informative notes begin with the word “Note”
            and are set apart from the normative text with <code>class="note"</code>, like this: </p>
   <p class="note" role="note"> Note, this is an informative note. </p>
  </div>
<script>
(function() {
  "use strict";
  var collapseSidebarText = '<span aria-hidden="true">←</span> '
                          + '<span>Collapse Sidebar</span>';
  var expandSidebarText   = '<span aria-hidden="true">→</span> '
                          + '<span>Pop Out Sidebar</span>';
  var tocJumpText         = '<span aria-hidden="true">↑</span> '
                          + '<span>Jump to Table of Contents</span>';

  var sidebarMedia = window.matchMedia('screen and (min-width: 78em)');
  var autoToggle   = function(e){ toggleSidebar(e.matches) };
  if(sidebarMedia.addListener) {
    sidebarMedia.addListener(autoToggle);
  }

  function toggleSidebar(on) {
    if (on == undefined) {
      on = !document.body.classList.contains('toc-sidebar');
    }

    /* Don’t scroll to compensate for the ToC if we’re above it already. */
    var headY = 0;
    var head = document.querySelector('.head');
    if (head) {
      // terrible approx of "top of ToC"
      headY += head.offsetTop + head.offsetHeight;
    }
    var skipScroll = window.scrollY < headY;

    var toggle = document.getElementById('toc-toggle');
    var tocNav = document.getElementById('toc');
    if (on) {
      var tocHeight = tocNav.offsetHeight;
      document.body.classList.add('toc-sidebar');
      document.body.classList.remove('toc-inline');
      toggle.innerHTML = collapseSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, 0 - tocHeight);
      }
      tocNav.focus();
      sidebarMedia.addListener(autoToggle); // auto-collapse when out of room
    }
    else {
      document.body.classList.add('toc-inline');
      document.body.classList.remove('toc-sidebar');
      toggle.innerHTML = expandSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, tocNav.offsetHeight);
      }
      if (toggle.matches(':hover')) {
        /* Unfocus button when not using keyboard navigation,
           because I don’t know where else to send the focus. */
        toggle.blur();
      }
    }
  }

  function createSidebarToggle() {
    /* Create the sidebar toggle in JS; it shouldn’t exist when JS is off. */
    var toggle = document.createElement('a');
      /* This should probably be a button, but appearance isn’t standards-track.*/
    toggle.id = 'toc-toggle';
    toggle.class = 'toc-toggle';
    toggle.href = '#toc';
    toggle.innerHTML = collapseSidebarText;

    sidebarMedia.addListener(autoToggle);
    var toggler = function(e) {
      e.preventDefault();
      sidebarMedia.removeListener(autoToggle); // persist explicit off states
      toggleSidebar();
      return false;
    }
    toggle.addEventListener('click', toggler, false);


    /* Get <nav id=toc-nav>, or make it if we don’t have one. */
    var tocNav = document.getElementById('toc-nav');
    if (!tocNav) {
      tocNav = document.createElement('p');
      tocNav.id = 'toc-nav';
      /* Prepend for better keyboard navigation */
      document.body.insertBefore(tocNav, document.body.firstChild);
    }
    /* While we’re at it, make sure we have a Jump to Toc link. */
    var tocJump = document.getElementById('toc-jump');
    if (!tocJump) {
      tocJump = document.createElement('a');
      tocJump.id = 'toc-jump';
      tocJump.href = '#toc';
      tocJump.innerHTML = tocJumpText;
      tocNav.appendChild(tocJump);
    }

    tocNav.appendChild(toggle);
  }

  var toc = document.getElementById('toc');
  if (toc) {
    createSidebarToggle();
    toggleSidebar(sidebarMedia.matches);

    /* If the sidebar has been manually opened and is currently overlaying the text
       (window too small for the MQ to add the margin to body),
       then auto-close the sidebar once you click on something in there. */
    toc.addEventListener('click', function(e) {
      if(e.target.tagName.toLowerCase() == "a" && document.body.classList.contains('toc-sidebar') && !sidebarMedia.matches) {
        toggleSidebar(false);
      }
    }, false);
  }
  else {
    console.warn("Can’t find Table of Contents. Please use <nav id='toc'> around the ToC.");
  }

  /* Wrap tables in case they overflow */
  var tables = document.querySelectorAll(':not(.overlarge) > table.data, :not(.overlarge) > table.index');
  var numTables = tables.length;
  for (var i = 0; i < numTables; i++) {
    var table = tables[i];
    var wrapper = document.createElement('div');
    wrapper.className = 'overlarge';
    table.parentNode.insertBefore(wrapper, table);
    wrapper.appendChild(table);
  }

})();
</script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#navigation-data">navigation data</a><span>, in §2.7</span>
   <li><a href="#nav-doc">navigation document</a><span>, in §2.1</span>
   <li><a href="#webbook-page-progression">page progression</a><span>, in §2.4</span>
   <li><a href="#webbook-principal-writing-mode">principal writing mode</a><span>, in §2.4</span>
   <li><a href="#reading-order">Reading Order</a><span>, in §2.7</span>
   <li><a href="#table-of-contents">Table of Contents</a><span>, in §2.7</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[html]</a> defines the following terms:
    <ul>
     <li><a href="https://html.spec.whatwg.org/multipage/sections.html#the-body-element">body</a>
     <li><a href="https://html.spec.whatwg.org/multipage/semantics.html#the-html-element">html</a>
     <li><a href="https://html.spec.whatwg.org/multipage/dom.html#the-title-element-2">the title element</a>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/">DOM Standard</a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-dpub-aria-10">[DPUB-ARIA-1.0]
   <dd>Matt Garish; et al. <a href="https://www.w3.org/TR/dpub-aria-1.0/">Digital Publishing WAI-ARIA Module 1.0</a>. REC. URL: <a href="https://www.w3.org/TR/dpub-aria-1.0/">https://www.w3.org/TR/dpub-aria-1.0/</a>
   <dt id="biblio-epub-contentdocs301">[EPUB-CONTENTDOCS301]
   <dd><a href="http://www.idpf.org/epub/301/spec/epub-contentdocs.html">EPUB Content Documents 3.0.1</a>. Recommended Specification. URL: <a href="http://www.idpf.org/epub/301/spec/epub-contentdocs.html">http://www.idpf.org/epub/301/spec/epub-contentdocs.html</a>
   <dt id="biblio-epub-ocf301">[EPUB-OCF301]
   <dd><a href="http://www.idpf.org/epub/301/spec/epub-ocf.html">EPUB Open Container Format (OCF) 3.0.1</a>. Recommended Specification. URL: <a href="http://www.idpf.org/epub/301/spec/epub-ocf.html">http://www.idpf.org/epub/301/spec/epub-ocf.html</a>
   <dt id="biblio-epub-publications301">[EPUB-PUBLICATIONS301]
   <dd><a href="http://www.idpf.org/epub/301/spec/epub-publications.html">EPUB Publications 3.0.1</a>. Recommended Specification. URL: <a href="http://www.idpf.org/epub/301/spec/epub-publications.html">http://www.idpf.org/epub/301/spec/epub-publications.html</a>
   <dt id="biblio-epub301">[EPUB301]
   <dd><a href="http://www.idpf.org/epub/301/spec/epub-overview.html">EPUB 3.0.1</a>. Recommended Specification. URL: <a href="http://www.idpf.org/epub/301/spec/epub-overview.html">http://www.idpf.org/epub/301/spec/epub-overview.html</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/">HTML Standard</a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
   <dt id="biblio-rfc3986">[RFC3986]
   <dd>T. Berners-Lee; R. Fielding; L. Masinter. <a href="https://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>. January 2005. Internet Standard. URL: <a href="https://tools.ietf.org/html/rfc3986">https://tools.ietf.org/html/rfc3986</a>
   <dt id="biblio-uax15">[UAX15]
   <dd>Mark Davis; Ken Whistler. <a href="https://www.unicode.org/reports/tr15/tr15-45.html">Unicode Normalization Forms</a>. 26 May 2017. Unicode Standard Annex #15. URL: <a href="https://www.unicode.org/reports/tr15/tr15-45.html">https://www.unicode.org/reports/tr15/tr15-45.html</a>
   <dt id="biblio-unicode">[UNICODE]
   <dd><a href="https://www.unicode.org/versions/latest/">The Unicode Standard</a>. URL: <a href="https://www.unicode.org/versions/latest/">https://www.unicode.org/versions/latest/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-rdfa-primer">[RDFA-PRIMER]
   <dd>Ivan Herman; et al. <a href="https://www.w3.org/TR/rdfa-primer/">RDFa 1.1 Primer - Third Edition</a>. 17 March 2015. NOTE. URL: <a href="https://www.w3.org/TR/rdfa-primer/">https://www.w3.org/TR/rdfa-primer/</a>
   <dt id="biblio-zip">[ZIP]
   <dd><a href="https://pkware.cachefly.net/webdocs/APPNOTE/APPNOTE-6.3.3.TXT">.ZIP File Format Specification 6.3.3</a>. URL: <a href="https://pkware.cachefly.net/webdocs/APPNOTE/APPNOTE-6.3.3.TXT">https://pkware.cachefly.net/webdocs/APPNOTE/APPNOTE-6.3.3.TXT</a>
  </dl>
  <aside class="dfn-panel" data-for="nav-doc">
   <b><a href="#nav-doc">#nav-doc</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-nav-doc">2.7. Navigation data</a> <a href="#ref-for-nav-doc①">(2)</a> <a href="#ref-for-nav-doc②">(3)</a> <a href="#ref-for-nav-doc③">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webbook-principal-writing-mode">
   <b><a href="#webbook-principal-writing-mode">#webbook-principal-writing-mode</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webbook-principal-writing-mode">2.4. The progression direction</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webbook-page-progression">
   <b><a href="#webbook-page-progression">#webbook-page-progression</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webbook-page-progression">2.4. The progression direction</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-data">
   <b><a href="#navigation-data">#navigation-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-data">2.7. Navigation data</a> <a href="#ref-for-navigation-data①">(2)</a> <a href="#ref-for-navigation-data②">(3)</a> <a href="#ref-for-navigation-data③">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="reading-order">
   <b><a href="#reading-order">#reading-order</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-reading-order">2.7. Navigation data</a> <a href="#ref-for-reading-order①">(2)</a> <a href="#ref-for-reading-order②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="table-of-contents">
   <b><a href="#table-of-contents">#table-of-contents</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-table-of-contents">2.7. Navigation data</a> <a href="#ref-for-table-of-contents①">(2)</a>
   </ul>
  </aside>
<script>/* script-dfn-panel */

        document.body.addEventListener("click", function(e) {
            var queryAll = function(sel) { return [].slice.call(document.querySelectorAll(sel)); }
            // Find the dfn element or panel, if any, that was clicked on.
            var el = e.target;
            var target;
            var hitALink = false;
            while(el.parentElement) {
                if(el.tagName == "A") {
                    // Clicking on a link in a <dfn> shouldn't summon the panel
                    hitALink = true;
                }
                if(el.classList.contains("dfn-paneled")) {
                    target = "dfn";
                    break;
                }
                if(el.classList.contains("dfn-panel")) {
                    target = "dfn-panel";
                    break;
                }
                el = el.parentElement;
            }
            if(target != "dfn-panel") {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function(el){
                    el.classList.remove("on");
                    el.classList.remove("activated");
                });
            }
            if(target == "dfn" && !hitALink) {
                // open the panel
                var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
                if(dfnPanel) {
                    console.log(dfnPanel);
                    dfnPanel.classList.add("on");
                    var rect = el.getBoundingClientRect();
                    dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
                    dfnPanel.style.top = window.scrollY + rect.top + "px";
                    var panelRect = dfnPanel.getBoundingClientRect();
                    var panelWidth = panelRect.right - panelRect.left;
                    if(panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                        // Reposition, because the panel is overflowing
                        dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
                    }
                } else {
                    console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
                }
            } else if(target == "dfn-panel") {
                // Switch it to "activated" state, which pins it.
                el.classList.add("activated");
                el.style.left = null;
                el.style.top = null;
            }

        });
        </script>